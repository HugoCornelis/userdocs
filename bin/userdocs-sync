#!/usr/bin/perl -w
#!/usr/bin/perl -w -d:ptkdb
#!


use strict;


use YAML;

my $build_database_yaml = `neurospaces_build --help-all`;

my $build_database = Load($build_database_yaml);

my $all_packages = $build_database->{all_packages};

my $userdocs_directory = $all_packages->{userdocs}->{directory};

system "cd \"$userdocs_directory\" && userdocs-check";

if ($?)
{
    die "$0: *** Error: userdocs-check concludes there is something wrong with your documentation workspace.";
}

system "neurospaces_sync --enable userdocs userdocs --verbose";

if ($?)
{
    die "$0: *** Error: $?";
}
else
{
    system "neurospaces_update --enable userdocs userdocs --verbose";
}


