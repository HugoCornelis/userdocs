\documentclass[12pt]{article}
\usepackage[dvips]{epsfig}
\usepackage{url}
\usepackage[colorlinks=true]{hyperref}

\begin{document}

\section*{GENESIS: Documentation}

\subsection*{Introduction}

The GENESIS documentation system is fully automated with versioning under the control of \href{http://monotone.ca/}{monotone}. To learn more about monotone and its use by GENESIS see \href{../version-control/version-control.tex}{Version Control} and to learn more about the levels of GENESIS documentation see \href{../documentation-overview/documentation-overview.tex}{Documentation Overview}. This document assumes that you are familiar with that material.

Here, we introduce some of the flexibility, features, and requirements of the GENESIS documentation system. We describe the location of source files within this system and how to create a new document. To learn how to add a new document to the GENESIS version control system see \href{../version-control/version-control.tex}{Version Control}. Once a document is under version control and identified with the correct tags (see below) it can be automatically published to be available for other members of the GENESIS community.

\subsection*{Location of GENESIS Documentation}

The documents that make up the GENESIS documentation system are located in your local workspace, which can be found at the default location
\begin{verbatim}
    ~/neurospaces_project/userdocs/source/snapshots/0
\end{verbatim}
The source materials for individual GENESIS documents can be found in uniquely named folders/directories located in your local workspace. One of the directories in the workspace should be named\,{\it NewDocument}. This directory and the files it contains provide a template for a generic GENESIS document. The files included by default are\,{\it descriptor.yml} and\,{\it NewDocument.tex}, and a sub-directory named\,{\it figures}.

\subsubsection*{The Default YML Descriptor File}

The name of the descriptor file\,{\it descriptor.yml} should not be changed. The default contents of this file include:

\begin{verbatim}
---
description: Briefly describe file contents here. 
document name: Insert a user readable file name here.  
tags:
  - genesis3
  - level2
  - draft
\end{verbatim}

\begin{itemize}

\item {\tt ---} The three dashes on the first line of the file {\it descriptor.yml} are part of the Y Markup Language (YML) syntax for automated software engineering (see \href{http://fdik.org/yml/}{http://fdik.org/yml/}). {\bf Note:} The meaning of the white space/indents in the\,{\it descriptor.yml} file is defined for YML.  

\item {\tt description:} The default file description ``Briefly describe file contents here.'' should be replaced with a short description of the subject matter of the documentation file. It is recommended that this file description is less than 80 characters on a single line.

\item {\tt document name:} Provide a document name which gives the title of the documentation file. This name is used as a link to the given file in the GENESIS documentation system. This name is independent of and should be more human readable than the actual name of the document file it identifies.

\item {\tt tags:} List of any tags used to identify the current document. The default tags include {\tt -\,genesis3}, {\tt -\,level2}, and {\tt -\,draft}. These tags indicate that the document is part of the GENESIS 3 documentation system at the level of User Guides and Documentation (level\,2), and that it is an as yet unpublished document.

\item New tags may be created just by adding them to the {\it descriptor.yml} file, but see below for recommended tags.  Note that the tagging system is case insensitive to avoid tag duplication.

\item Importantly, each of the directories {\tt contents-level1}\,\ldots {\tt contents-level7} in your default workspace contains a list of the documentation to be found at the given level. These content indices are generated automatically during a GENESIS installation, a {\tt userdocs} module installation, or an update. They provide direct links to all documents tagged for the given level of documentation.

\end{itemize}

\subsubsection*{The Default Documentation Source File}

Source files for the GENESIS documentation system are currently produced with the \LaTeX\,typesetting package (see \href{http://www.latex-project.org/}{www.latex-project.org}). It is planned that Microsoft Word ({\tt .doc} format) and OpenOffice ({\tt .odt}, ODF format) file formats will also be automatically recognized by the GENESIS documentation system.

The default \LaTeX\, documentation source file\,{\it NewDocument.tex} in the {\it NewDocument} folder can be compiled to produce a readable PDF file. It gives help and examples for colorizing text, generating hyperlinks to local and remote documentation, and how to insert a figure into your documentation.

\subsubsection*{The Figures Folder}

This directory contains any figures that your new document source file may include. The name of this folder should not be changed.

\section*{Incorporate a Pre-existing Document, File, or Video}

The GENESIS Document System recognizes a number of different file formats. The purpose is to allow preexisting documentation to be directly included without having first to be converted to the \LaTeX\,format.

To incorporate a pre-existing document into the GENESIS Document System:

\begin{enumerate}

\item Include a tag in the {\it descriptor.yml} file in the document directory. Currently, the following file format tags are recognized (Note. No tag is necessary for  \LaTeX\,files as the .tex file name suffix is the default for the GENESIS Documentation System):

\begin{itemize}

\item[]{\bf - eps} Encapsulated postscript.
\item[]{\bf - html} Hypertext markup language.
\item[]{\bf - pdf} Portable document format.
\item[]{\bf - png} Portable network graphics.
\item[]{\bf - ps} Postscript.

\end{itemize}

\item Place the document file in the document directory (NOT the {\it figures} sub-directory).

\end{enumerate}

It is also possible to incorporate audio files and videos as part of documentation. The recognized audio file format tags include:

\begin{itemize}

\item[]{\bf - wav} Microsoft .wav file format.
\item[]{\bf - mp3} Digital audio encoding format.

\end{itemize}

To incorporate video into a GENESIS document: 

\begin{enumerate}

\item Create an account with a video sharing website, e.g. \href{http://www.youtube.com/create_account}{YouTube}.
\item Upload your video(s).
\item Embed a link to the video(s) into the document describing their contents. See \href{../NewDocument/NewDocument.tex}{New Document}, for further details.


\end{enumerate}

Incorporation of pre-existing documentation in one of the above formats is the only time that the document directory name and the document name do not have to match (see further below). Note that with document incorporation (c.f. creation) the document to be included is located in the document directory and NOT the {\it figures} directory.
 
\section*{Create a New Document}

There are three simple steps to the creation of a new document within the GENESIS documentation system.

\begin{enumerate}

\item {\bf Make a new document template:} Copy the\,{\it NewDocument} folder to the name of the new document you want to make. Change the name of the \LaTeX\,\,\,file\,{\it NewDocument.tex} inside the renamed folder to the name of your new document. To do this replace the\,{\it NewDocument} part of the default source file name with the new name you have just given to the\,{\it NewDocument} folder.

This will result in both the documentation directory and the source file having the same name (with the exception of the {\tt .tex} extension of the source file). For example, the name of the directory containing this document is {\it document-create} and the name of the source file it contains is\,{\it document-create.tex}.

Importantly, remember that the names of the descriptor file\,{\it descriptor.yml} and the directory\,{\it figures} located in the document folder are required by the GENESIS documentation system and should not be changed.

\item {\bf Update the descriptor.yml file:} Each directory/file in the GENESIS documentation system is tagged on the basis of its content, for example:

\begin{enumerate}

\item  {\bf The GENESIS version:} This tags the version of GENESIS that the content of the document refers to, e.g. {\tt -\,genesis3}.

\item {\bf Level of the GENESIS document:} This must be one of the seven levels of the GENESIS documentation system, which include:

\href{../contents-level1/contents-level1.tex}{{\tt - level1}} (introductory documentation)

\href{../contents-level2/contents-level2.tex}{{\tt - level2}} (user/developer documentation)

\href{../contents-level3/contents-level3.tex}{{\tt - level3}} (autogenerated documentation)

\href{../contents-level4/contents-level4.tex}{{\tt - level4}} (autogenerated technical documentation)

\href{../contents-level5/contents-level5.tex}{{\tt - level5}} (autogenerated algorithm documentation)

\href{../contents-level6/contents-level6.tex}{{\tt - level6}} (autogenerated api documentation)

\href{../contents-level7/contents-level7.tex}{{\tt - level7}} (inline source code documentation)

For more on the levels of the GENESIS documentation system see the \href{../documentation-overview/documentation-overview.tex}{Documentation Overview}.

\item {\bf Flag document status:} For a given document to be part of the documentation version control system and the GENESIS Documentation System, it must be in a documentation folder along with a {\it descriptor.yml} file that contains only one of either the {\tt -\,draft}, {\tt -\,local}, or {\tt -\,published} tags.

{\bf Precedence of publication related tags:} Three tags control publication of documents within the GENESIS Documentation System:
\begin{itemize}
	\item[]{\tt -\,draft}: The presence of this tag in the\,{\it descriptor.yml} file associated with a document will prevent the document 
	from being published,  i.e. viewable within a browser. For a document to be publishable, the {\tt -\,draft} tag must be replaced 
	with either the {\tt -\,local} or the {\tt -\,published} tag.
	
	\item[]{\tt -\,local}: This tag indicates that a document will be included into any local build of the the GENESIS Documentation 
	System. The presence of this tag means that a document will be browser viewable on (a) local machine(s), but will not appear as a `published' 
	document on the GENESIS web site at {\tt http://genesis-sim.org}. This tag is useful to developers for checking documentation prior to publication on the web via the GENESIS web site and can be used to control who can view documentation locally.
	
	\item[]{\tt -\,published:} The presence of this tag in the\,{\it descriptor.yml} file will cause the associated document to be published to the GENESIS Documentation System on the GENESIS web site, as long as neither the {\tt -\,draft} nor the {\tt -\,local} tags are present in the same\,{\it descriptor.yml} file (see next item).
	
	\item[]Note that these three publication related flags are interpreted in a hierarchical manner, such that the presence of the {\tt 
	-\,draft} tag along with either the {\tt -\,local} and/or {\tt -\,published} tag will prevent the document from being included into a 
	build/update of the documentation system.
		
	\item[]Similarly, absence of the {\tt -\,draft} tag but presence of the {\tt -\,local} tag will prevent publication of a document to the 
	GENESIS web site even if the {\tt -\,published} tag is present.
	
	\item[]Note that a document will not be published to be browser viewable in the absence of either the {\tt -\,local} or {\tt -\,published} tag. So if documentation is or is not appearing where you expect after an update, it is a good idea to check the 
	publication tags in the {\it descriptor.yml} file.
\end{itemize}

Recommended tags for the descriptor file include:
\begin{verbatim}
  tags:
    - genesis2
    - genesis3
    - level1
    - level2
    - level3
    - level4
    - level5
    - level6
    - level7
    - meta
    - wiki
    - create
    - introduction
    - tutorial
    - document
    - draft
    - published
    - local
    - eps
    - html
    - pdf
    - png
    - ps
    - wav
    - mp3
    
\end{verbatim}

Remember that the interpretation of the\,{\it descriptor.yml} file by the GENESIS documentation system is sensitive to white space and indents.
 
\end{enumerate}

\item {\bf Update the\,{\it figures} folder:} Place any figures or images, etc that your source document file contains in the\,{\it figures} directory.

\end{enumerate}

\subsection*{Document Version Tracking and Control}

To learn more about document version tracking and control in the GENESIS Documentation System, see \href{../version-control/version-control.tex}{Document Version Control}.

\subsection*{Document Publication}

To learn more about the automated publication of documents in the GENESIS Documentation System, see \href{../publication/publication.tex}{Document Publication}.


\end{document}
