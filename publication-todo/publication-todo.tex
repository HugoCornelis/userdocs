\documentclass[12pt]{article}
\usepackage[dvips]{epsfig}
\usepackage{color}
%e.g.  \textcolor{red,green,blue}{text}
\usepackage{url}
\usepackage[colorlinks=true]{hyperref}
\usepackage{scrtime}
 
\begin{document}

{\bf Related Documentation:}
% start: userdocs-tag-replace-items related-do-nothing
% end: userdocs-tag-replace-items related-do-nothing

\section*{GENESIS: Documentation}

\section{Publication System: GUI Functionality}

%This list is specifically about the publication GUI.  See
%\href{../project-todo/project-todo.tex}{The project-todo list} for an
%explanation how to work with these lists.

%This list needs further expansion by mapping the technical comments to
%GUI todos.

%\subsection{General Advantages of the Publication GUI}
%\begin{itemize}
%\item Paper version of story and figures.
%\item Here is how it maps into the new system.
%\item Talk about the capabilities once you do that.
%\end{itemize}


%\section{Workflows and Technical Comments}

The examples in this document are based on publications
\cite{deschutter94:_purkin_i}\cite{deschutter94:_purkin_ii}\cite{schutter94:_simul_purkin}\cite{Rapp-P:1994qf}

\subsection{Loading the different Purkinje cell models into G-3}

The following sections list the purkinje cells that we use as targets
for the implementation.

\subsubsection{Passive Segev Model}

Publication~\cite{Rapp-P:1994qf}

\begin{itemize}
\item The Segev morphology is available from the
  neuromorpho database.  There are subtle differences to the soma
  dimensions with the edsjb1994 model.
\item The passive properties of this model are accurately reported in
  Segev paper.  Based on these properties, the different versions of
  the Segev model can be added to the G-3 model library.
\end{itemize}


\subsubsection{DeSchutter: 3 different guinea pigs dendritic
  morphologies}

Publications:~\cite{deschutter94:_purkin_i}\cite{deschutter94:_purkin_ii}

\begin{itemize}
\item We only have a recompartmentalized version of one Purkinje cell
  and it is unknown where we can find the recompartmentalized versions
  of the other two Purkinje cells.  The morphologies are available
  from the neuromorpho database, but naive recompartmentalization of a
  morphology changes its computational behavior such that exact
  reproduction of the publication figures is not directly possible.
  This needs further investigation.
\item The Purkinje cell model reported
  in~\cite{deschutter94:_purkin_i} and \cite{deschutter94:_purkin_ii}
  is implemented in the G-3 model library.  Both the Segev model and
  the edsjb1994 model can be loaded.  The GUI can then display their
  differences (see below).
\end{itemize}


\subsubsection{Sergio model}

Publication:~\cite{solinas06:_dendr_purkin}

\begin{itemize}
\item Sergio's model has a different anamolous rectifier.  It should
  be possible to reproduce his model starting the methods section
  reported in his publication.
\item This model's morphology is identical to Erik's model's
  morphology.
\item I am in touch with Sergio about his model, but am still waiting
  for his response.  He said he will try to recover his model from a
  backup.
\end{itemize}

\subsubsection{Japan model}

Publications:~\cite{chono03:_purkin}\cite{miyasho01:_low_ca2_purkin}

\begin{itemize}
\item This is reported as a modification of the original EDS model,
  reimplemented in the NEURON simulator.
\item The morphology is taken from D.P. Shelton (but looks different
  from Shelton's), there is no report of different dendritic
  functional regions, some channels have been modified, others
  removed, and new added.  It is really a new model with some
  components shared with the edsjb1994 model.
\item There is currently no possibility to document the assumptions or
  hypotheses upon which the model is based, ie. comparing the
  subregions in the edsjb1994 dendrite with the assumption built into
  the Japanese model.
\item We do not have the model scripts.
\end{itemize}

\subsubsection{Different species}

We have morphological data for fish, turtle, rat, guinea pig and mouse
purkinje cells.  We can ask Rachael if she wants to contribute the
zebra finch purkinje cells that she has.  These morphologies can be
handled as passive models (see Segev model above).


\subsubsection{The NEURON Simulator Purkinje Cell Model}
Importing Neuron models can be made possible.  It assumed to take less
time than the backward compatibility module because the Neuron script
languages are not as sophisticated as the G-2 SLI.

\subsubsection{Allan Purkinje Cell Model}

Publication:~\cite{coop01}

Allan's model is based on entirely different concepts than any of the
other Purkinje cell models, but a user does not care much about such
differences.  Implementation of Allan's model in G-3 is an interesting
exercise we should do to check the flexibility and robustness of both
high-level concepts and technical implementation.


\subsection{Model Comparison}

I have divided this a bit more than we discussed during the last
meeting:

\subsubsection{Structural Differences between Models}
%\begin{itemize}
%\item Text.
%\item visually / graphically.
%\item plot time constants for the channel.
%\end{itemize}

The G-Tube shows multiple morphology, passive models, channel
characteristics and channel distribution tables simultaneously.

Both quantitative and structural differences can be visualized using
different colors (green color: same parameters / structure, red color:
differences in parameters / structure).

\subsubsection{Behavioral Difference between Models}

Behavioral differences between models can be shown by running
simulations that simulate common experimental protocols:

\begin{itemize}
\item Responses to current injection traces are shown for each model
  that is compared.
\item Voltage clamp simulations after application of channel blockers.
%\item Is currently not possible: two animated PCs on either side with
%  the data plot in middle.
\end{itemize}

A library of SSP schedules is used to setup the simulation required to
produce these traces (see also below).


\subsubsection{Functional Difference between Models}

\begin{itemize}
\item Synaptic stimulation under different physiological conditions.
\end{itemize}


\subsection{Publication, Attribution and Lineage}

Attribution means identifying who has contributed what to a model, and
identifying the importance of each contribution.

The fundamental building block of a publication is a publication atom.
A publication atom is a direct component of a model (such as a channel
instance, a synapse instance).  Each publication atom is contributed
by an author.

Every publication atom starts with equal importance.  The use-count of
a publication atom determines its overall importance.

The G-Tube shows a table of all the people who have contributed to a
model and how much they contributed.

This attribution model obviously gives high attribution scores to
Hodgkin and Huxley and to Wilfrid Rall.


%\subsubsection{Purkinje cell model}
%\begin{itemize}
%\item Attributions.
%\item Made like Sci citations Index.
%\end{itemize}


\subsection{Reconstruct the figures in the papers from the model in real time}

Opening a publication from within the G-Tube shows the figures of the
publication.  Each figure has a caption explaining what is shown.

Figures can be produced manually by loading a model and applying an
SSP schedule to it.



\subsubsection{DeSchutter papers}
\begin{itemize}
\item Identify the industry standard model measures
  \begin{enumerate}
  \item Passive
  \item Current injection / voltage clamp
  \item Synaptic input
  \item Physiological stimulation
  \end{enumerate}
\end{itemize}

\subsection{Tutorialize this}

\begin{enumerate}
\item PDF of standard paper.
\item Narrative components / Bullet points
  \begin{enumerate}
  \item Figures based
  \end{enumerate}
\item Points of deviation
  \begin{enumerate}
  \item Tells the authors in review
  \end{enumerate}
\end{enumerate}


\section{Technical Comments}

\subsection{Loading Different Models into the G-Tube}

\begin{enumerate}
\item The model name selection box of the G-Tube lists the names of
  all the models that can be loaded.
\item Both the G-Tube and the gshell currently work with one implicit
  workspace, which limits them to importation of only one model at a
  time.  The model-container uses 'namespaces' as an abstraction for
  user workspaces.  Gshell commands need to be implemented to access
  the interface to manage the model-container's namespaces.  The
  G-Tube connects to the gshell over its standard I/O stream
  connection to use the new commands.
\item A namespace edit box will popup every time a new model is loaded
  to allow the user to edit the name of the namespace.  The edit box
  suggests a namespace for use.
\item The name of the namespace that was used to load the model, is
  visible in the model loader selection box.
\item The namespaces known to the G-Tube are also available from a
  separate 'Recent' sub-menu in the file menu.
\end{enumerate}


\subsection{Morphology Characterization}
The following quantities are visible for both models simultaneously
in a small table.  This table with morphology characteristics is
available from a button in the menu 'Model Construction' --$>$
'Explore Model'.  (this table should be split in two: one for
morphology, one for passive parameters).
\begin{enumerate}
\item soma dimensions (different between the two models)
\item electrotonic length of the longest and shortest compartments
  (edsjb1994 has a very very long compartment).
\item total dendritic length, surface area and volume.
\item Number of branch points, average branch order of dendritic tips.
\item RM, CM, RA, ELEAK, number of spines, number of compartments.
\item List of transmembrane currents.
\end{enumerate}
The quantities mentioned above can be computed by the model container
and are made available as yaml text files to the GUI from the standard
I/O connection with the gshell.

For example
\href{../pub-purkinje-deschutter-morphology/pub-purkinje-deschutter-morphology.tex}.

\subsection{Channel Kinetics and Distribution}

The GUI shows a list with all the transmembrane currents /
channels found in the model.
\begin{enumerate}
\item The channel characteristics table shows the gate parameters and
  the reversal potential for each channel (table 1
  paper~\cite{deschutter94:_purkin_i}).
\item The channel distribution table shows the current densities
  (table 2 paper~\cite{deschutter94:_purkin_i}).
\item Clicking a button in the table with channel characteristics
  shows a plot of the steady-state and time constant against the
  membrane potential.  This relationship is calculated by heccer and
  made available to the GUI via the gshell 'tabulate' command.
\item The voltage clamp current can be made visible too, using a
  library of SSP schedules (see below).
\end{enumerate}

For example see
\href{../pub-purkinje-deschutter-kinetics/pub-purkinje-deschutter-kinetics.tex}.


\subsection{SSP Library of Simulation Configurations}

\begin{itemize}
\item A library of SSP schedules with different stimulation paradigms
  is available.  The GUI instructs the SSP scheduler to load a
  schedule from the library and then runs the simulation.  This
  produces the output for one figure.  Tables and channel kinetic plot
  reconstruction may need a different mechanism.
\item The SSP configuration library can be browsed using the
  show\_library gshell command.  Each configuration is shown using its
  description inside the yaml file.
\end{itemize}

\subsection{Importing Neuron Models}

\begin{itemize}
\item The G-Tube / gshell load SLI models in the same way as NDF
  models (and necessary conversions are applied in the background).
\item Importing Neuron models can work in the same way, with
  conversions applied in the background.  The graphical part of the
  G-Tube does not need explicit support for NEURON files.
\end{itemize}

\subsection{Other Models}

Implementing Allan's model in G3 will require a profound investigation
for how to:
\begin{itemize}
\item Connect its dedicated solver to SSP.
\item How to do its model specification.
  \begin{enumerate}
  \item interfacing with the model-container?
  \item setup the solver from the model-container?
  \end{enumerate}
\item The technical reports that document the implementation workflow
  can be found in the explanation for how to
  \href{../genesis-extend-functionality/genesis-extend-functionality.tex}{extend
    GENESIS functionality}.
\end{itemize}


\subsection{Publication and Attribution}

\begin{itemize}
\item The model-container will define a new parameter
  'PUBLICATION\_ATOM' that points to an external file.  The external
  file contains 'publication atoms' possibly including bibtex
  references to papers, tagged free text such as abstract and author
  comments.  The PUBLICATION\_ATOM parameter is available for all
  model types known by the model container (cell, channel, etc).
\item The full pathname of the external file is guaranteed to be
  unique in a distributed software system.
\item Based on the PUBLICATION\_ATOM parameters of a complex model,
  and by assigning 'attribution scores' to each model component, the
  attribution of one or more contributors to a model can be fully
  quantified.
\item Likewise the 'local' past and current importance of a model
  component can be quantified by counting its usage from the lineage
  tree.  In a centralized database with peer-reviewed publications the
  'local importance' provides an overall measure of the significance
  of a model component.  The algorithms to compute the importance of a
  model component shares principles with google algorithms to
  attribute scores to google search hits.  They are also related to
  spanning tree and coverage calculations in graph networks.
\item The gshell's show\_library command has extensions for file types
  such as 'ndf' files, 'g2' files, ao.  This command is already
  supported by the G-Tube.  A new extension type 'cite' lists all the
  citations related to one model (channel, morphology, or other) and
  allows to browse its lineage.
\end{itemize}


\subsection{Reconstruct the figures in the papers from the model in real time}

\begin{itemize}
\item A library of SSP schedules with different stimulation paradigms
  is available.  The GUI instructs the SSP scheduler to load a
  schedule from the library and then runs the simulation.  This
  produces the output for one figure.  Tables and channel kinetic plot
  reconstruction may need a different mechanism.
\item The SSP configuration library can be browsed using the
  show\_library gshell command.  Each configuration is shown using its
  description inside the yaml file.
\item Most of the SSP configurations required for this functionality
  are already available from different locations in the source code
  (eg. the regression tests).  After initial creation of this library,
  the buttons that implement functions for model comparison implicitly
  select one or more SSP configuration files and run a simulation.
\item Obviously figure reproduction can also be done manually from the
  G-Tube menus.  For this, the G-Tube needs an interface to access and
  load schedules from the SSP library.  This interface is available
  from a menu that is part of the (still to be described) publication
  / research workflow.
\item Future suggestion: the G-Tube supports snapshot files that after
  loading, popup two plot windows, instruct it to load an SSP
  (simulation) configuration for each plot window, and then run those
  simulations.
\end{itemize}


\bibliographystyle{abbrv}
\bibliography{../tex/bib/g3-refs.bib}

\end{document}


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
