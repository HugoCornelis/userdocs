\documentclass[12pt]{article}
\usepackage{verbatim}
\usepackage[dvips]{epsfig}
\usepackage{color}
\usepackage{url}
\usepackage[colorlinks=true]{hyperref}

\begin{document}

\section*{GENESIS: Documentation}

{\bf Related Documentation:} \\
\href{../genesis-system/genesis-system.tex}{\bf GENESIS\,System}
% start: userdocs-tag-replace-items related-do-nothing
% end: userdocs-tag-replace-items related-do-nothing


\section*{Developer Installation From Source On Mac OSX -- El Capitan}

The procedure for the installation of GENESIS on a Mac OSX is similar to that for a Linux build on a regular PC. The major difference is that it requires build tools for the Mac as explained below. Installation requires administrator privileges. ({\bf Note:} Some installation must be done from the Terminal). If you do not have administrator privileges you should contact your system administrator for help. The Terminal can be found in the Applications --$>$ Utilities folder. For regular use of GENESIS it is convenient to place a Terminal in the dock for easy access.
Installation requires executing the following major steps:
\begin{itemize}
   \item[] Prepare and upgrade the system software.
   \item[] Download and install the developer package.
   \item[] Install the software packages.
   \item[] Check if the installation was successful. 
\end{itemize}

\subsection*{Prepare and upgrade the system software}

Install the following packages:
\begin{itemize}
\item[] \href{https://coolestguidesontheplanet.com/installing-homebrew-on-os-x-el-capitan-10-11-package-manager-for-unix-apps/}{HomeBrew} is a de facto standard package manager for Apple Development.  It is installed by typing
\begin{verbatim}
ruby -e '$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)'
\end{verbatim}

\item[]\href{http://monotone.ca/}{\bf monotone-0.44:} or higher is required to pull code from the global G-3 source code servers.  It is installed with the shell command "brew install monotone".

\item[] Automake is a tool required for the configuration and build of G-3.  It can be installed by typing ``brew install automake'' from the shell command line.

\item[] SWIG is a interface generator to bind low-level system code to high-level scripting languages.  It can be installed by typing ``brew install swig'' from the shell command line.

\item[] PIP is a python package manager.  It can be installed by typing ``sudo easy\_install pip'' from the shell command line.

\item[] Cpanm is a minimal interface to the Perl Archive required to install CPAN packages.  It can be installed by typing ``brew install cpanm'' from the shell command line.

\item[] YAML is a language for declarative descriptions.  Its perl bindings can be installed by typing ``cpanm YAML'' from the shell command line.  Its python bindings can be installed by typing ``sudo pip install pyyaml''.

\item[] Cairo is a vector graphics library.  Pango is a library for text rendering.  Gtk+ is a widget library.  They can be installed using the command line ``brew install Cairo'' and ``brew install pango'' and ``brew install Gtk+''.

\item[] Glib and Gtk+ bindings to perl are needed to usefully use the Neurospaces Studio.  It can be installed using the system shell command ``sudo cpanm Glib'' and ``sudo cpanm --force Gtk2''.

\item[]{\bf Xcode Tools:} The Apple Development Toolset. Xcode is available through the search facility from the App Store. It is also available from the \href{http://developer.apple.com/technology/xcode.html}{\bf Apple Developer Website}. In the latter case  you will need a valid Developer Apple ID to log in and access the developer page.
   
\item[]Note about \href{http://python.org/}{Python:} OS X El Capitan comes with python version 2.7.10.
\end{itemize}
   

\subsection*{Download and Install the {\it DeveloperPackage}}

Download the latest version of the \href{https://github.com/HugoCornelis/developer/blob/master/developer-0.0.0-alpha.tar.gz?raw=true}{{\it DeveloperPackage}}.  ({\bf Note:} If downloading via your browser, do not unpack the package during the download as it will be placed into its own subdirectory).

\begin{itemize}
   \item[] Change to the directory where you downloaded the file.
   \item[] Unpack archive: ``{\tt tar xfz developer-release-label.tar.gz}''.
   \item[] Change to the directory with the content of the archive: ``{\tt cd developer-release-label}''.
   \item[] Configure the {\it DeveloperPackage}: ``{\tt ./configure}''.
   \item[] Compile and install the {\it DeveloperPackage}: ``{\tt make \&\& sudo make install}'' (the sudo command will require administrator privileges).
\end{itemize}


\subsection*{Install software packages}

%Install the following Perl dependencies via CPAN:
%     \begin{itemize}
%         \item YAML
%         \item Parse::RecDescent
%         \item Expect (and its dependency perl-IO)
%         \item ExtUtils::MakeMaker
%         \item Term::ReadLine
%      \end{itemize}
%   \end{itemize}
%This can be done, for example, by entering the following at a terminal prompt:
%\begin{verbatim}
%   $ sudo perl -MCPAN -e shell
%\end{verbatim}
%Then at the {\tt cpan>} prompt enter:
%\begin{verbatim}
%   cpan> force install YAML
%   . . . 
%\end{verbatim}

Download the and install the \href{../../developer-package/developer-package.tex}{\bf developer package}. Once that is done source code can be pulled from the GENESIS repository and a build performed with the following commands:
\begin{enumerate}
   \item{\it neurospaces\_create\_directories}
   \item{\it neurospaces\_pull}
   \item{\it neurospaces\_update}
   \item{\it neurospaces\_configure}
   \item{\it neurospaces\_install} (requires admin password) 
\end{enumerate}

%If there are any mixed architectures on some of the programs on the machine then you must use the {\it --universal} flag. For instance if the current version of python in your path is 32-bit and the host machine is 64-bit, then you should use the universal flag. Easy way to tell what a programs architecture is is to use the lipo command on the executable file:

%\begin{verbatim}
%lipo -info `which python`
%Architectures in the fat file: /usr/bin/python are: x86_64 i386 ppc7400
%\end{verbatim}

%The architectures can be read as follows.

%\begin{itemize}
%   \item[] {\bf x86\_64}: 64-bit Intel 
%   \item[] {\bf i386, i486, i586, i686}: 32-bit Intel (with i386 being the most common)
%   \item[] {\bf ppc, ppc7400}: Power PC architecture
%\end{itemize}

%If you are using all pure apple programs for perl and python with no macports, then it is safe to use {\it --universal} for any calls to {\it neurospaces\_install} and {\it neurospaces\_upgrade}. However it should be noted that this will increase the compile time three fold.

\subsection*{Check if installation was successful}

Once these have completed the installation can be tested with the following command:
\begin{itemize}
   \item[]{\tt neurospaces\_check $>$/tmp/check.out 2$>$\&1}
\end{itemize}
This will perform a series of regression tests and save the output to file. The output can be checked by typing ``{\tt less /tmp/check.out}''. Importantly, search for lines containing the string {\tt error\_count} that will indicate any inconsistencies with the installation.

{\bf Note:} The running of tests is optional, but strongly advised.





\end{document}
